@import 'constant'  
@import 'mixin' 

//------------------------------------------------------------------------------
// Board view styles

asideHeight = 160px

.board
  width 100%
  height 100%
  position relative
  overflow hidden
  background boardBackground
  display flex
  flex-direction column
  align-items center
  justify-content flex-end

  > .notify
    position relative
    width 50%
    z-index 2
    
    .content
      max-height 100px

  > .map
    user-select none
    position absolute
    pad = 30px
    top pad  
    right pad
    bottom asideHeight
    left pad
    z-index 0

  pad = 20px
  logoRatio = 0.9
  logoWidth = 100px
  squadWidth = 630px

  aside
    position relative
    height asideHeight
    bottom 0
    transition bottom fallDuration
    width 1140px
    background url(../image/board-commands.png)
    background-size 100% 100%

    > *
      top pad
      bottom 0
      position absolute
    
    .logo
      top pad + 22.5px
      left pad + squadWidth + 5px
      height unit(logoWidth*logoRatio, 'px')
      width auto
      margin unit((logoWidth*(1 - logoRatio))/2, 'px')
      
    .logs
      top auto
      left 780px
      bottom 67px
      width 240px
      height 60px
      transition height logsDuration

    .logs.ng-show
      height 200px

    .commands
      left  pad + logoWidth + squadWidth + 13px
      top pad + 90px
      width 270px
      padding 8px
      box-sizing border-box
      display flex
      align-items center

      a + a
        margin-left 4px
      .fa
        padding 0

    .commands a
    .end-deploy
      display inline-block
      box-sizing border-box
      width 40px
      height h=34px
      line-height h
      text-align center
      background-image url(../image/replay-buttons.png)
      background-position 0 0
      background-size 162px 102px
      cursor default

    .commands a:hover
    .end-deploy:hover
      background-position 0 -34px
      color textDarkColor
      cursor pointer

    .commands a:not(.enabled)
    .end-deploy:not(.enabled)
      background-position 0 -68px
      color textDarkColor

    .commands .end-turn
      flex 1
      background-position -40px 0

    .commands .end-turn:hover
      background-position -40px -34px

    .commands .end-turn:not(.enabled)
      background-position -40px -68px

    .score
      top pad + 10px
      bottom 65px

    .turn
      top pad + 75px

    .score
    .turn
      right pad
      width 80px
      color textDarkColor
      display flex
      flex-direction column
      align-items center
      justify-content center

    .squad 
      margin = 5px

      .replay
        display none

      .replay.enabled
        position absolute
        display flex
        align-items flex-end
        top margin + 10px
        left margin
        bottom margin
        right margin
        border-radius 5px
        z-index 1
        background mapLoadingBackground
        
        > *
          flex 1
          text-align center
          padding-bottom 1em
          font-family headingFont
          font-size headingSize

  aside.marine
    background url(../image/board-marine-commands.png)

    .squad
      left pad
      width squadWidth

  aside.alien
    background url(../image/board-alien-commands.png)
    
    blipSize = 100px
    
    .blips
      top pad
      left pad
      width blipSize
  
      .end-deploy
        background-size 119px 102px
        background-position -29px 0
        display inline-block
        padding-top 4px
        margin 12px 5px 0
        line-height 1em
        width 90px
        font-size 82%

      .end-deploy:hover
        background-position -29px -34px
  
      .end-deploy:not(.enabled)
        background-position -29px -68px

    .squad
      left pad + blipSize
      width squadWidth - blipSize - 13px
      margin 21px 2px 11px
      overflow auto

      .character-details
        margin 2px 0 4px 6px

.board.ng-enter aside
.board.ng-leave aside
  opacity 0
  bottom - asideHeight