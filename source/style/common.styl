@import 'constant'  
@import 'mixin'

@import 'reset.css'
@import 'font-awesome-4.0.3-min.css'
@import 'bootstrap-social.css'

html
body
body > div
  height 100%
  padding 0
  overflow hidden
  user-select none

html
body
  font-family textFont
  font-size textSize
  color textColor
  background mainBackground
  overflow auto

#disclaimer
  width 50%
  height 180px
  margin 25% auto
  p
    margin 0.5em 0
  a
    color alertColor

.fa
  font-size textSize*0.9
  padding-right 0.5em  

a, a:visited, a:link, a:hover
  text-decoration none
  color textColor

body > div 
  width mainWidth 
  margin 0 auto

  progress
    display block
    width 250px
    margin 25% auto 0 auto

for i in(1..6)
  h{i}
    font-family headingFont
    font-size headingSize*(1+(i - 1)*-0.15)
    margin-bottom unit(20*(1+(i - 1)*-0.15) , 'px') 

//------------------------------------------------------------------------------
// Common layering

.login
.home
.configure
.end
  display flex
  align-items center
  background-image  url('../image/bg-home.png')
  background-size cover

  > *:not(aside)
    flex 1
    padding 2%
    position relative
    box-sizing border-box
    height 100%

    .app-title
      background url(../image/title.png)
      background-size auto 100%
      background-repeat no-repeat
      background-position center center
      color transparent
      height 250px
      top 35%
      position absolute
      width 100%

  > aside
    width 40%
    height 100%
    order 1
    margin-right 2%
    display flex
    flex-direction column
    justify-content center
    background-image url('../image/column.png')
    background-size auto 100%
    background-repeat no-repeat
    background-position center

//------------------------------------------------------------------------------
// Login specificities

.login
  
  .providers
    display flex
    justify-content space-between
    width 80%
    margin 0.5em 0 1em

  .btn-social
    padding 6px 12px 6px 44px
    margin-bottom 0
    font-size 14px
    font-weight normal
    line-height 1.428571429
    text-align center
    white-space nowrap
    vertical-align middle
    cursor pointer
    border 1px solid transparent
    border-radius 4px
    user-select none

    .fa
      padding-right 0

  .manual
    margin 0.5em

//------------------------------------------------------------------------------
// End specificities

.end

  article
    margin 50px 5%
    height auto

    .result
      font-size headingSize
      margin 15px auto
      width 65%

      thead > tr
        text-shadow 0 0 3px #D40000
        background-color rgba(white, 0.3)

      td, th
        vertical-align middle
        padding 0.15em 1em
        text-align center

      .squad img
        width 50px

      tbody 
        tr.current
          color alertColor
        tr:nth-child(even) td
          background-color rgba(white, 0.1)
          
//------------------------------------------------------------------------------
// Home specificities

.home

  aside
    text-align center
    
    .new-game
      align-self center
  
  .empty-list
    text-align center
    color alertColor

  .my-games
  .free-games
    display flex
    flex-direction column
    
    h2
      flex-shrink 0
    ul
      overflow auto
  
  .my-games
    transition-delay 250ms
    
    .short-game
      cursor pointer

  .free-games
    transition-delay 500ms

    a
      background-image url('../image/replay-buttons.png')
      background-position -29px 0
      background-size 120px 74px
      cursor default
      display inline-block
      width 91px
      height 25px
      text-align center
      line-height 25px
      margin-left 1em
      font-size textSize*0.8

    a:hover
      background-position -29px -25px
      color textDarkColor
      cursor pointer

  .create-game
  .join-game
    box-sizing border-box
    position absolute
    top 15%
    left 0
    width 90%

    .btn
      margin 0 0.5em

    .rule-params
      margin-bottom 1em

    .ng-hide-add
    .ng-hide-remove
      transition line-height 150ms
      display block!important

    .ng-hide
      line-height 0

    .mission
      margin-top 1.5em
      font-style italic
      font-size 80%

//------------------------------------------------------------------------------
// Configuration specificities

.configure

  .details
    margin-top 10%
    position relative

    p 
      margin 0.5em 0

    .explanation
      font-style italic
      font-size 80%

    .schema
      display block
      height 280px
      width 350px
      margin 1em auto 0
      box-shadow inset 0 0 20px 15px black
      background-repeat no-repeat
      background-size cover
      border-radius 5%
  
  > aside
    width 45%

    > .frame
      
      > div > img
        display inline-block
        width 50px
        margin 0 0 -1em 1em

//------------------------------------------------------------------------------
// Aside animations

movable = {
  '.login': '.login-frame', 
  '.home': 'aside > *'
  '.configure': 'aside > *'
}

for selector, moved in movable
  {selector} {moved}
    opacity 1
    top 0
    transition opacity fallDuration, top fallDuration

  {selector}.ng-enter {moved}
  {selector}.ng-leave {moved}
    opacity 0
    top -1000px

fadable = '.create-game', '.join-game'
for faded in fadable
  {faded}.ng-hide-add
  {faded}.ng-hide-remove
    transition opacity fromRightDuration, left fromRightDuration
    display block!important

  {faded}.ng-hide
    opacity 0
    left -500px

//------------------------------------------------------------------------------
// Other imports

@import 'ui'
@import 'directives'
@import 'board'  